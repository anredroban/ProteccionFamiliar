(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){module.exports=e(require("jquery"))}else{e(jQuery)}})(function(e){"use strict";var t="animsition";var n={init:function(r){r=e.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:true,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:false,timeoutCountdown:5e3,onLoadEvent:true,browser:["animation-duration","-webkit-animation-duration"],overlay:false,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(e){window.location.href=e}},r);n.settings={timer:false,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var i=n.supportCheck.call(this,r);if(!i&&r.browser.length>0){if(!i||!this.length){if(!("console"in window)){window.console={};window.console.log=function(e){return e}}if(!this.length)console.log("Animsition: Element does not exist on page.");if(!i)console.log("Animsition: Does not support this browser.");return n.destroy.call(this)}}var s=n.optionCheck.call(this,r);if(s&&e("."+r.overlayClass).length<=0){n.addOverlay.call(this,r)}if(r.loading&&e("."+r.loadingClass).length<=0){n.addLoading.call(this,r)}return this.each(function(){var i=this;var s=e(this);var o=e(window);var u=e(document);var a=s.data(t);if(!a){r=e.extend({},r);s.data(t,{options:r});if(r.timeout)n.addTimer.call(i);if(r.onLoadEvent){o.on("load."+t,function(){if(n.settings.timer)clearTimeout(n.settings.timer);n.in.call(i)})}o.on("pageshow."+t,function(e){if(e.originalEvent.persisted)n.in.call(i)});o.on("unload."+t,function(){});u.on("click."+t,r.linkElement,function(t){t.preventDefault();var r=e(this);var s=r.attr("href");if(t.which===2||t.metaKey||t.shiftKey||navigator.platform.toUpperCase().indexOf("WIN")!==-1&&t.ctrlKey){window.open(s,"_blank")}else{n.out.call(i,r,s)}})}})},addOverlay:function(t){e(t.overlayParentElement).prepend('<div class="'+t.overlayClass+'"></div>')},addLoading:function(t){e(t.loadingParentElement).append('<div class="'+t.loadingClass+'">'+t.loadingInner+"</div>")},removeLoading:function(){var n=e(this);var r=n.data(t).options;var i=e(r.loadingParentElement).children("."+r.loadingClass);i.fadeOut().remove()},addTimer:function(){var r=this;var i=e(this);var s=i.data(t).options;n.settings.timer=setTimeout(function(){n.in.call(r);e(window).off("load."+t)},s.timeoutCountdown)},supportCheck:function(t){var n=e(this);var r=t.browser;var i=r.length;var s=false;if(i===0){s=true}for(var o=0;o<i;o++){if(typeof n.css(r[o])==="string"){s=true;break}}return s},optionCheck:function(t){var r=e(this);var i;if(t.overlay||r.data(n.settings.data.overlay)){i=true}else{i=false}return i},animationCheck:function(n,r,i){var s=e(this);var o=s.data(t).options;var u=typeof n;var a=!r&&u==="number";var f=r&&u==="string"&&n.length>0;if(a||f){n=n}else if(r&&i){n=o.inClass}else if(!r&&i){n=o.inDuration}else if(r&&!i){n=o.outClass}else if(!r&&!i){n=o.outDuration}return n},"in":function(){var r=this;var i=e(this);var s=i.data(t).options;var o=i.data(n.settings.data.inDuration);var u=i.data(n.settings.data.inClass);var a=n.animationCheck.call(r,o,false,true);var f=n.animationCheck.call(r,u,true,true);var l=n.optionCheck.call(r,s);var c=i.data(t).outClass;if(s.loading)n.removeLoading.call(r);if(c)i.removeClass(c);if(l){n.inOverlay.call(r,f,a)}else{n.inDefault.call(r,f,a)}},inDefault:function(t,r){var i=e(this);i.css({"animation-duration":r+"ms"}).addClass(t).trigger(n.settings.events.inStart).animateCallback(function(){i.removeClass(t).css({opacity:1}).trigger(n.settings.events.inEnd)})},inOverlay:function(r,i){var s=e(this);var o=s.data(t).options;s.css({opacity:1}).trigger(n.settings.events.inStart);e(o.overlayParentElement).children("."+o.overlayClass).css({"animation-duration":i+"ms"}).addClass(r).animateCallback(function(){s.trigger(n.settings.events.inEnd)})},out:function(r,i){var s=this;var o=e(this);var u=o.data(t).options;var a=r.data(n.settings.data.outClass);var f=o.data(n.settings.data.outClass);var l=r.data(n.settings.data.outDuration);var c=o.data(n.settings.data.outDuration);var h=a?a:f;var p=l?l:c;var d=n.animationCheck.call(s,h,true,false);var v=n.animationCheck.call(s,p,false,false);var m=n.optionCheck.call(s,u);o.data(t).outClass=d;if(m){n.outOverlay.call(s,d,v,i)}else{n.outDefault.call(s,d,v,i)}},outDefault:function(r,i,s){var o=e(this);var u=o.data(t).options;o.css({"animation-duration":i+1+"ms"}).addClass(r).trigger(n.settings.events.outStart).animateCallback(function(){o.trigger(n.settings.events.outEnd);u.transition(s)})},outOverlay:function(r,i,s){var o=this;var u=e(this);var a=u.data(t).options;var f=u.data(n.settings.data.inClass);var l=n.animationCheck.call(o,f,true,true);e(a.overlayParentElement).children("."+a.overlayClass).css({"animation-duration":i+1+"ms"}).removeClass(l).addClass(r).trigger(n.settings.events.outStart).animateCallback(function(){u.trigger(n.settings.events.outEnd);a.transition(s)})},destroy:function(){return this.each(function(){var n=e(this);e(window).off("."+t);n.css({opacity:1}).removeData(t)})}};e.fn.animateCallback=function(t){var n="animationend webkitAnimationEnd";return this.each(function(){var r=e(this);r.on(n,function(){r.off(n);return t.call(this)})})};e.fn.animsition=function(r){if(n[r]){return n[r].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof r==="object"||!r){return n.init.apply(this,arguments)}else{e.error("Method "+r+" does not exist on jQuery."+t)}}})